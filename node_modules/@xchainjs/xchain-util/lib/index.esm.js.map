{"version":3,"file":"index.esm.js","sources":["../src/async.ts","../src/bn.ts","../src/chain.ts","../src/string.ts","../src/types/amount.ts","../src/asset.ts"],"sourcesContent":["/**\n * Helper to delay anything within an `async` function\n *\n * @param ms delay in milliseconds\n *\n * @example\n *\n * ```\n * const anyAsyncFunc = async () => {\n *  // do something\n *  console.log('before delay')\n *  // wait for 200ms\n *  await delay(200)\n *  // and do other things\n *  console.log('after delay')\n * }\n * ```\n */\nexport const delay = (ms: number) => new Promise((resolve) => setTimeout(resolve, ms))\n","import BigNumber from 'bignumber.js'\n\n/**\n * Shortcut to create a BigNumber\n *\n * @param {string | number | BigNumber.Instance} value\n * @returns {BigNumber} The BigNumber interface from the given value.\n */\nconst bn = (value: BigNumber.Value) => new BigNumber(value)\n\n/**\n * Helper to check whether a BigNumber is valid or not\n *\n * @param {BigNumber} value\n * @returns {boolean} `true` or `false`.\n * */\nexport const isValidBN = (value: BigNumber) => !value.isNaN()\n\n/**\n * Helper to create a big number from string or number\n * If it fails to create a big number, a big number with value 0 will be returned instead\n *\n * @param {string|number|undefined} value\n * @returns {BigNumber} The BigNumber interface from the given value. If invalid one is provided, will return `0`.\n * */\nexport const bnOrZero = (value: string | number | undefined) => {\n  const b = value ? bn(value) : bn(0)\n  return isValidBN(b) ? b : bn(0)\n}\n\n/**\n * Helper to validate a possible BigNumber\n * If the given value is invalid or undefined, 0 is returned as a BigNumber\n *\n * @param {BigNumber|undefined} value\n * @returns {boolean} `true` or `false`.\n */\nexport const validBNOrZero = (value: BigNumber | undefined) => (value && isValidBN(value) ? value : bn(0))\n\n/**\n * Format a BaseNumber to a string depending on given decimal places\n *\n * @param {BigNumber} value\n * @param {number} decimal The decimal place. (optional)\n * @returns {string} The formatted string from the given BigNumber and decimal place.\n * */\nexport const formatBN = (value: BigNumber, decimal = 2) => value.toFormat(decimal)\n\n/**\n * The enumuration for symbol position.\n * `before` or `after`\n */\nexport enum SymbolPosition {\n  BEFORE = 'before',\n  AFTER = 'after',\n}\n/**\n * Formats a big number value by prefixing it with `$`\n *\n * @param {BigNumber} n\n * @param {number} decimalPlaces The decimal place. (optional)\n * @param {string} symbol The currency symbol. (optional)\n * @param {position} position The symbol position. (optional)\n * @returns {string} The formatted string from the given BigNumber, decimal places, symbol and position.\n */\nexport const formatBNCurrency = (\n  n: BigNumber,\n  decimalPlaces = 2,\n  symbol = '$',\n  position: SymbolPosition = SymbolPosition.BEFORE,\n) => {\n  const value = formatBN(n, decimalPlaces)\n  if (position === SymbolPosition.BEFORE) {\n    return `${symbol}${value}`\n  }\n  return `${value}${symbol}`\n}\n\n/**\n * Helper to get a fixed `BigNumber`\n * Returns zero `BigNumber` if `value` is invalid\n *\n * @param {number|string|BigNumber|undefined} value\n * @param {number} decimalPlaces The decimal place. (optional)\n * @returns {BigNumber} The BigNumber interface from the given value and decimal.\n * */\nexport const fixedBN = (value: BigNumber.Value | undefined, decimalPlaces = 2): BigNumber => {\n  const n = bn(value || 0)\n  const fixedBN = isValidBN(n) ? n.toFixed(decimalPlaces) : bn(0).toFixed(decimalPlaces)\n  return bn(fixedBN)\n}\n\nexport default bn\n","export enum Chain {\n  Binance = 'BNB',\n  Bitcoin = 'BTC',\n  Ethereum = 'ETH',\n  THORChain = 'THOR',\n  Cosmos = 'GAIA',\n  Polkadot = 'POLKA',\n  BitcoinCash = 'BCH',\n  Litecoin = 'LTC',\n  Terra = 'TERRA',\n  Doge = 'DOGE',\n}\n\nexport const BNBChain = Chain.Binance\nexport const BTCChain = Chain.Bitcoin\nexport const ETHChain = Chain.Ethereum\nexport const THORChain = Chain.THORChain\nexport const CosmosChain = Chain.Cosmos\nexport const PolkadotChain = Chain.Polkadot\nexport const BCHChain = Chain.BitcoinCash\nexport const LTCChain = Chain.Litecoin\nexport const TerraChain = Chain.Terra\nexport const DOGEChain = Chain.Doge\n\n/**\n * Type guard to check whether string  is based on type `Chain`\n *\n * @param {string} c The chain string.\n * @returns {boolean} `true` or `false`\n */\nexport const isChain = (c: string): c is Chain => (Object.values(Chain) as string[]).includes(c)\n\n/**\n * Convert chain to string.\n *\n * @param {Chain} chainId.\n * @returns {string} The string based on the given chain type.\n */\nexport const chainToString: ((chainId: Chain) => string) & Record<Chain, string> = Object.assign(\n  (chainId: Chain) => {\n    if (!(chainId in chainToString)) return 'unknown chain'\n    return chainToString[chainId]\n  },\n  {\n    [Chain.THORChain]: 'Thorchain',\n    [Chain.Bitcoin]: 'Bitcoin',\n    [Chain.BitcoinCash]: 'Bitcoin Cash',\n    [Chain.Litecoin]: 'Litecoin',\n    [Chain.Ethereum]: 'Ethereum',\n    [Chain.Binance]: 'Binance Chain',\n    [Chain.Cosmos]: 'Cosmos',\n    [Chain.Polkadot]: 'Polkadot',\n    [Chain.Terra]: 'Terra',\n    [Chain.Doge]: 'Dogecoin',\n  },\n)\n","/**\n * Removes leading / trailing zeros from a string of numbers\n * (1) Regex to remove trailing zeros https://stackoverflow.com/a/53397618/2032698\n * (2) Regex to remove leading zeros https://www.oreilly.com/library/view/regular-expressions-cookbook/9781449327453/ch06s06.html\n *\n * @param {string} value\n * @returns {string} The result after removing trailing zeros.\n */\nexport const trimZeros = (value: string) =>\n  value\n    // (1) remove trailing zeros\n    .replace(/(\\.[0-9]*[1-9])0+$|\\.0*$/, '$1')\n    // (2) remove leading zeros\n    .replace(/\\b0*([1-9][0-9]*|0)\\b/, '$1')\n","import BigNumber from 'bignumber.js'\n\nexport enum Denomination {\n  /**\n   * values for asset amounts in base units (no decimal)\n   */\n  Base = 'BASE',\n  /**\n   * values of asset amounts (w/ decimal)\n   */\n  Asset = 'ASSET',\n}\n\nexport type Amount<T> = T extends Denomination\n  ? {\n      type: T\n      amount: () => BigNumber\n      plus: (value: BigNumber.Value | Amount<T>, decimal?: number) => Amount<T>\n      minus: (value: BigNumber.Value | Amount<T>, decimal?: number) => Amount<T>\n      times: (value: BigNumber.Value | Amount<T>, decimal?: number) => Amount<T>\n      div: (value: BigNumber.Value | Amount<T>, decimal?: number) => Amount<T>\n      gt: (value: BigNumber.Value | Amount<T>) => boolean\n      gte: (value: BigNumber.Value | Amount<T>) => boolean\n      lt: (value: BigNumber.Value | Amount<T>) => boolean\n      lte: (value: BigNumber.Value | Amount<T>) => boolean\n      eq: (value: BigNumber.Value | Amount<T>) => boolean\n      decimal: number\n    }\n  : never\n\nexport type BaseAmount = Amount<Denomination.Base>\nexport type AssetAmount = Amount<Denomination.Asset>\n","import BigNumber from 'bignumber.js'\n\nimport { fixedBN, formatBN } from './bn'\nimport { Chain, isChain } from './chain'\nimport { trimZeros as trimZerosHelper } from './string'\nimport { Amount, Asset, AssetAmount, BaseAmount, Denomination } from './types'\n\n/**\n * Guard to check whether value is a BigNumber.Value or not\n *\n * @param {unknown} v\n * @returns {boolean} `true` or `false`.\n * */\nexport const isBigNumberValue = (v: unknown): v is BigNumber.Value =>\n  typeof v === 'string' || typeof v === 'number' || v instanceof BigNumber\n\n/**\n * Default number of asset decimals\n * For history reason and by starting the project on Binance chain assets, it's 8 decimal.\n *\n * For example:\n * ```\n * RUNE has a maximum of 8 digits of decimal\n * 0.00000001 RUNE == 1 รฐ (tor)\n * ```\n * */\nconst ASSET_DECIMAL = 8\n\n/**\n * Factory to create values of assets (e.g. RUNE)\n *\n * @param {string|number|BigNumber|undefined} value - The asset amount, If the value is undefined, AssetAmount with value `0` will be returned.\n * @param {number} decimal The decimal places. (optional)\n * @returns {AssetAmount} The asset amount from the given value and decimal.\n *\n **/\nexport const assetAmount = (value: BigNumber.Value | undefined, decimal: number = ASSET_DECIMAL): AssetAmount => {\n  const amount = fixedBN(value, decimal)\n  return {\n    type: Denomination.Asset,\n    amount: () => amount,\n    plus: (v: BigNumber.Value | AssetAmount, d: number = decimal) =>\n      assetAmount(amount.plus(isBigNumberValue(v) ? v : v.amount()), d),\n    minus: (v: BigNumber.Value | AssetAmount, d: number = decimal) =>\n      assetAmount(amount.minus(isBigNumberValue(v) ? v : v.amount()), d),\n    times: (v: BigNumber.Value | AssetAmount, d: number = decimal) =>\n      assetAmount(amount.times(isBigNumberValue(v) ? v : v.amount()), d),\n    div: (v: BigNumber.Value | AssetAmount, d: number = decimal) =>\n      assetAmount(amount.div(isBigNumberValue(v) ? v : v.amount()), d),\n    lt: (v: BigNumber.Value | AssetAmount) => amount.lt(isBigNumberValue(v) ? v : v.amount()),\n    lte: (v: BigNumber.Value | AssetAmount) => amount.lte(isBigNumberValue(v) ? v : v.amount()),\n    gt: (v: BigNumber.Value | AssetAmount) => amount.gt(isBigNumberValue(v) ? v : v.amount()),\n    gte: (v: BigNumber.Value | AssetAmount) => amount.gte(isBigNumberValue(v) ? v : v.amount()),\n    eq: (v: BigNumber.Value | AssetAmount) => amount.eq(isBigNumberValue(v) ? v : v.amount()),\n    decimal,\n  }\n}\n\n/**\n * Factory to create base amounts (e.g. tor)\n *\n * @param {string|number|BigNumber|undefined} value - The base amount, If the value is undefined, BaseAmount with value `0` will be returned.\n * @param {number} decimal The decimal places of its associated AssetAmount. (optional)\n * @returns {BaseAmount} The base amount from the given value and decimal.\n **/\nexport const baseAmount = (value: BigNumber.Value | undefined, decimal: number = ASSET_DECIMAL): BaseAmount => {\n  const amount = fixedBN(value, 0)\n  return {\n    type: Denomination.Base,\n    amount: () => amount,\n    plus: (v: BigNumber.Value | BaseAmount, d: number = decimal) =>\n      baseAmount(amount.plus(isBigNumberValue(v) ? v : v.amount()), d),\n    minus: (v: BigNumber.Value | BaseAmount, d: number = decimal) =>\n      baseAmount(amount.minus(isBigNumberValue(v) ? v : v.amount()), d),\n    times: (v: BigNumber.Value | BaseAmount, d: number = decimal) =>\n      baseAmount(amount.times(isBigNumberValue(v) ? v : v.amount()), d),\n    div: (v: BigNumber.Value | BaseAmount, d: number = decimal) =>\n      baseAmount(amount.div(isBigNumberValue(v) ? v : v.amount()).decimalPlaces(0, BigNumber.ROUND_DOWN), d),\n    lt: (v: BigNumber.Value | BaseAmount) => amount.lt(isBigNumberValue(v) ? v : v.amount()),\n    lte: (v: BigNumber.Value | BaseAmount) => amount.lte(isBigNumberValue(v) ? v : v.amount()),\n    gt: (v: BigNumber.Value | BaseAmount) => amount.gt(isBigNumberValue(v) ? v : v.amount()),\n    gte: (v: BigNumber.Value | BaseAmount) => amount.gte(isBigNumberValue(v) ? v : v.amount()),\n    eq: (v: BigNumber.Value | BaseAmount) => amount.eq(isBigNumberValue(v) ? v : v.amount()),\n    decimal,\n  }\n}\n\n/**\n * Helper to convert values for a asset from base values (e.g. RUNE from tor)\n *\n * @param {BaseAmount} base\n * @returns {AssetAmount} The asset amount from the given base amount.\n * */\nexport const baseToAsset = (base: BaseAmount): AssetAmount => {\n  const decimal = base.decimal\n  const value = base\n    .amount()\n    .div(10 ** decimal)\n    .decimalPlaces(decimal)\n  return assetAmount(value, decimal)\n}\n\n/**\n * Helper to convert asset to base values (e.g. tor -> RUNE)\n *\n * @param {AssetAmount} asset\n * @returns {BaseAmount} The base amount from the given AssetAmount.\n * */\nexport const assetToBase = (asset: AssetAmount): BaseAmount => {\n  const value = asset\n    .amount()\n    .multipliedBy(10 ** asset.decimal)\n    .integerValue()\n  return baseAmount(value, asset.decimal)\n}\n\n/**\n * Guard to check whether value is an amount of asset or not\n *\n * @param {Amount<Denomination>} v\n * @returns {boolean} `true` or `false`.\n * */\nexport const isAssetAmount = (v: Amount<Denomination>): v is AssetAmount => v.type === Denomination.Asset\n\n/**\n * Guard to check whether value is an amount of a base value or not\n *\n * @param {Amount<Denomination>} v\n * @returns {boolean} `true` or `false`.\n * */\nexport const isBaseAmount = (v: Amount<Denomination>): v is BaseAmount => v.type === Denomination.Base\n\n/**\n * Formats an `AssetAmount` into `string` based on decimal places\n *\n * If `decimal` is not set, `amount.decimal` is used\n * Note: `trimZeros` wins over `decimal`\n *\n * @param {Params} param The asset amount format options.\n * @returns {string} The formatted asset amount string from the given options.\n */\nexport const formatAssetAmount = ({\n  amount,\n  decimal,\n  trimZeros = false,\n}: {\n  amount: AssetAmount\n  decimal?: number\n  trimZeros?: boolean\n}) => {\n  // strict check for `undefined` value as negate of 0 will return true and passed decimal value will be ignored\n  const formatted = formatBN(amount.amount(), decimal === undefined ? amount.decimal : decimal)\n  // Note: `trimZeros` wins over `decimal`\n  return trimZeros ? trimZerosHelper(formatted) : formatted\n}\n\n/**\n * Formats a `BaseAmount` value into a `string`\n *\n * @param {BaseAmount} amount\n * @returns {string} The formatted base amount string from the given base amount.\n */\nexport const formatBaseAmount = (amount: BaseAmount) => formatBN(amount.amount(), 0)\n\n/**\n * Base \"chain\" asset of Binance chain.\n *\n * Based on definition in Thorchain `common`\n * @see https://gitlab.com/thorchain/thornode/-/blob/master/common/asset.go#L12-24\n */\nexport const AssetBNB: Asset = { chain: Chain.Binance, symbol: 'BNB', ticker: 'BNB', synth: false }\n\n/**\n * Base \"chain\" asset on bitcoin main net.\n *\n * Based on definition in Thorchain `common`\n * @see https://gitlab.com/thorchain/thornode/-/blob/master/common/asset.go#L12-24\n */\nexport const AssetBTC: Asset = { chain: Chain.Bitcoin, symbol: 'BTC', ticker: 'BTC', synth: false }\n\n/**\n * Base \"chain\" asset on bitcoin cash main net.\n *\n * Based on definition in Thorchain `common`\n * @see https://gitlab.com/thorchain/thornode/-/blob/master/common/asset.go#L12-24\n */\nexport const AssetBCH: Asset = { chain: Chain.BitcoinCash, symbol: 'BCH', ticker: 'BCH', synth: false }\n\n/**\n * Base \"chain\" asset on litecoin main net.\n *\n * Based on definition in Thorchain `common`\n * @see https://gitlab.com/thorchain/thornode/-/blob/master/common/asset.go#L12-24\n */\nexport const AssetLTC: Asset = { chain: Chain.Litecoin, symbol: 'LTC', ticker: 'LTC', synth: false }\n/**\n * Dogecoin asset\n * Based on definition in Thorchain\n * @see https://gitlab.com/thorchain/thornode/-/blob/781-add-doge-chain/common/asset.go#L24\n */\nexport const AssetDOGE: Asset = { chain: Chain.Doge, symbol: 'DOGE', ticker: 'DOGE', synth: false }\n\n/**\n * Luna asset\n * Based on definition in Thorchain\n * @see TBD\n */\nexport const AssetLUNA: Asset = { chain: Chain.Terra, symbol: 'LUNA', ticker: 'LUNA', synth: false }\n\nexport const RUNE_TICKER = 'RUNE'\n\n/**\n * Base \"chain\" asset on ethereum main net.\n *\n * Based on definition in Thorchain `common`\n * @see https://gitlab.com/thorchain/thornode/-/blob/master/common/asset.go#L12-24\n */\nexport const AssetETH: Asset = { chain: Chain.Ethereum, symbol: 'ETH', ticker: 'ETH', synth: false }\n\n/**\n * Base \"chain\" asset for RUNE-67C on Binance test net.\n *\n * Based on definition in Thorchain `common`\n * @see https://gitlab.com/thorchain/thornode/-/blob/master/common/asset.go#L12-24\n */\nexport const AssetRune67C: Asset = { chain: Chain.Binance, symbol: 'RUNE-67C', ticker: RUNE_TICKER, synth: false }\n\n/**\n * Base \"chain\" asset for RUNE-B1A on Binance main net.\n *\n * Based on definition in Thorchain `common`\n * @see https://gitlab.com/thorchain/thornode/-/blob/master/common/asset.go#L12-24\n */\nexport const AssetRuneB1A: Asset = { chain: Chain.Binance, symbol: 'RUNE-B1A', ticker: RUNE_TICKER, synth: false }\n\n/**\n * Base \"chain\" asset on thorchain main net.\n *\n * Based on definition in Thorchain `common`\n * @see https://gitlab.com/thorchain/thornode/-/blob/master/common/asset.go#L12-24\n */\nexport const AssetRuneNative: Asset = { chain: Chain.THORChain, symbol: RUNE_TICKER, ticker: RUNE_TICKER, synth: false }\n\n/**\n * Base \"chain\" asset for RUNE on ethereum main net.\n *\n * Based on definition in Thorchain `common`\n * @see https://gitlab.com/thorchain/thornode/-/blob/master/common/asset.go#L12-24\n */\nexport const AssetRuneERC20: Asset = {\n  chain: Chain.Ethereum,\n  symbol: `${RUNE_TICKER}-0x3155ba85d5f96b2d030a4966af206230e46849cb`,\n  ticker: RUNE_TICKER,\n  synth: false,\n}\n\n/**\n * Base \"chain\" asset for RUNE on ethereum main net.\n *\n * Based on definition in Thorchain `common`\n * @see https://gitlab.com/thorchain/thornode/-/blob/master/common/asset.go#L12-24\n */\nexport const AssetRuneERC20Testnet: Asset = {\n  chain: Chain.Ethereum,\n  symbol: `${RUNE_TICKER}-0xd601c6A3a36721320573885A8d8420746dA3d7A0`,\n  ticker: RUNE_TICKER,\n  synth: false,\n}\n\n/**\n * Helper to check whether asset is valid\n *\n * @param {Asset} asset\n * @returns {boolean} `true` or `false`\n */\nexport const isValidAsset = (asset: Asset): boolean => !!asset.chain && !!asset.ticker && !!asset.symbol\n\n/**\n * Helper to check whether an asset is synth asset\n *\n * @param {Asset} asset\n * @returns {boolean} `true` or `false`\n */\nexport const isSynthAsset = ({ synth }: Asset): boolean => synth\n\nconst SYNTH_DELIMITER = '/'\nconst NON_SYNTH_DELIMITER = '.'\n\n/**\n * Creates an `Asset` by a given string\n *\n * This helper function expects a string with following naming convention:\n * `AAA.BBB-CCC`\n * where\n * chain: `AAA`\n * ticker (optional): `BBB`\n * symbol: `BBB-CCC` or `CCC` (if no ticker available)\n *\n * @see  https://docs.thorchain.org/developers/transaction-memos#asset-notation\n *\n * If the naming convention fails, it returns null\n *\n * @param {string} s The given string.\n * @returns {Asset|null} The asset from the given string.\n */\nexport const assetFromString = (s: string): Asset | null => {\n  const isSynth = s.includes(SYNTH_DELIMITER)\n  const delimiter = isSynth ? SYNTH_DELIMITER : NON_SYNTH_DELIMITER\n  const data = s.split(delimiter)\n  if (data.length <= 1 || data[1]?.length < 1) {\n    return null\n  }\n\n  const chain = data[0]\n  // filter out not supported string of chains\n  if (!chain || !isChain(chain)) return null\n\n  const symbol = data[1]\n  const ticker = symbol.split('-')[0]\n\n  return { chain, symbol, ticker, synth: isSynth }\n}\n\n/**\n * Returns an `Asset` as a string using following naming convention:\n *\n * `AAA.BBB-CCC`\n * where\n * chain: `AAA`\n * ticker (optional): `BBB`\n * symbol: `BBB-CCC` or `CCC` (if no ticker available)\n * symbol (synth): `BBB/CCC` or `CCC` (if no ticker available)\n *\n * @see https://docs.thorchain.org/developers/transaction-memos#asset-notation\n *\n * @param {Asset} asset The given asset.\n * @returns {string} The string from the given asset.\n */\nexport const assetToString = ({ chain, symbol, synth }: Asset) => {\n  const delimiter = synth ? SYNTH_DELIMITER : NON_SYNTH_DELIMITER\n  return `${chain}${delimiter}${symbol}`\n}\n\n/**\n * Currency symbols currently supported\n */\nexport enum AssetCurrencySymbol {\n  RUNE = 'แฑ',\n  BTC = 'โฟ',\n  SATOSHI = 'โก',\n  ETH = 'ฮ',\n  USD = '$',\n}\n\n/**\n * Returns currency symbols by given `Asset`\n *\n * @param {Asset} asset The given asset.\n * @returns {string} The currency symbol from the given asset.\n */\nexport const currencySymbolByAsset = ({ ticker }: Asset) => {\n  switch (true) {\n    case ticker === RUNE_TICKER:\n      return AssetCurrencySymbol.RUNE\n    case ticker === AssetBTC.ticker:\n      return AssetCurrencySymbol.BTC\n    case ticker === AssetETH.ticker:\n      return AssetCurrencySymbol.ETH\n    case ticker.includes('USD') || ticker.includes('UST'):\n      return AssetCurrencySymbol.USD\n    default:\n      return ticker\n  }\n}\n\n/**\n * Formats an asset amount using its currency symbol\n *\n * If `decimal` is not set, `amount.decimal` is used\n * If `asset` is not set, `$` will be used as currency symbol by default\n * `trimZeros` is `false` by default\n * Note: `trimZeros` wins over `decimal`\n *\n * @param {Params} params The asset amount currency format options.\n * @return {string} The formatted asset amount string using its currency format.\n */\nexport const formatAssetAmountCurrency = ({\n  amount,\n  asset,\n  decimal,\n  trimZeros: shouldTrimZeros = false,\n}: {\n  amount: AssetAmount\n  asset?: Asset\n  decimal?: number\n  trimZeros?: boolean\n}) => {\n  const amountFormatted = formatAssetAmount({\n    amount,\n    // strict check for `undefined` value as negate of 0 will return true and passed decimal value will be ignored\n    decimal: decimal === undefined ? amount.decimal : decimal,\n    trimZeros: shouldTrimZeros,\n  })\n  const ticker = asset?.ticker ?? ''\n\n  if (ticker) {\n    // RUNE\n    if (ticker === RUNE_TICKER) return `${AssetCurrencySymbol.RUNE} ${amountFormatted}`\n    // BTC\n    let regex = new RegExp(AssetBTC.ticker, 'i')\n    if (ticker.match(new RegExp(AssetBTC.ticker, 'i'))) {\n      const base = assetToBase(amount)\n      // format all < โฟ 0.01 in statoshi\n      if (base.amount().isLessThanOrEqualTo('1000000')) {\n        return `${AssetCurrencySymbol.SATOSHI} ${formatBaseAmount(base)}`\n      }\n      return `${AssetCurrencySymbol.BTC} ${amountFormatted}`\n    }\n    // ETH\n    regex = new RegExp(AssetETH.ticker, 'i')\n    if (ticker.match(regex)) return `${AssetCurrencySymbol.ETH} ${amountFormatted}`\n    // USD\n    regex = new RegExp('USD', 'i')\n    if (ticker.match('USD')) return `${AssetCurrencySymbol.USD} ${amountFormatted}`\n\n    return `${amountFormatted} ${ticker}`\n  }\n\n  return `$ ${amountFormatted}`\n}\n\n/**\n * Formats a `BaseAmount` into a string of an `AssetAmount`\n *\n * If `decimal` is not set, `amount.decimal` is used\n * Note: `trimZeros` wins over `decimal`\n *\n * @param {Params} params The base amount currency format options.\n * @return {string} The formatted base amount string using its currency format.\n */\nexport const formatBaseAsAssetAmount = ({\n  amount,\n  decimal,\n  trimZeros = false,\n}: {\n  amount: BaseAmount\n  decimal?: number\n  trimZeros?: boolean\n}) => formatAssetAmount({ amount: baseToAsset(amount), decimal, trimZeros })\n"],"names":["trimZeros","trimZerosHelper"],"mappings":"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"}